
<!-- Contract Holder Form -->
<form [formGroup]="contractHolder" (ngSubmit)="onSubmit()">

  <mat-form-field style="width: 500px;">
    <input matInput placeholder="Name" name="name" maxlength="50" required formControlName="IndividualName" >
    <mat-error>Name is invalid!</mat-error>
  </mat-form-field> <br>

  <mat-form-field style="width: 250px;">
    <input matInput placeholder="RG" name="rg" [textMask]="{mask: rgMask}" formControlName="IndividualRG" required>
    <mat-error>RG is invalid!</mat-error>
  </mat-form-field>


  <mat-form-field style="width: 250px;">
    <input matInput placeholder="CPF" id="cpf" [textMask]="{mask: cpfMask}" value="" name="cpf" type="text" formControlName="IndividualCPF" required>
    <mat-error>CPF is invalid!</mat-error>
    <span id="cpfResponse"></span>


    <script></script>
  </mat-form-field> <br>

  <mat-form-field style="width: 250px;">
    <input matInput [matDatepicker]="picker" placeholder="Birthdate" id="birthdate" formControlName="IndividualBirthDate" required>
    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
    <mat-datepicker #picker></mat-datepicker>
    <mat-error>Date is invalid!</mat-error>
  </mat-form-field>

  <mat-form-field style="width: 350px;">
    <input matInput placeholder="Email" name="email" type= "email" maxlength="30" formControlName="IndividualEmail" required email>
    <mat-error>E-mail is invalid!</mat-error>
  </mat-form-field>

                              <!-- Telephone Component -->
  <div formArrayName="idTelephone" *ngFor="let telephone2 of contractHolder.get('idTelephone')['controls'];">
    <mat-card>
      <app-telephone [telephone2]="telephone2" [pushPermission]="message" (addTelephone)="handle_add_telphone($event)"></app-telephone>
    </mat-card> <br>
  </div> 
  <br> <br> 
  <button mat-raised-button color="primary" type="button" (click)="showTelephone()">
      <mat-icon class="material-icons">add</mat-icon>
 </button> 
                  <!-- Final do Telephone Component -->

                  <!-- Address Component -->
  <div formArrayName="idAddress" *ngFor="let item of contractHolder.get('idAddress')['controls'];">    
    <mat-card class="addressBg">
      <app-address [address2]="item" [addressPushPermission]="message" (addAddress)="handle_add_address($event)"> </app-address>
    </mat-card> <br>
  </div>  <br> <br> <br>
  
  <button mat-raised-button color="primary" type="button" (click)="showAddress()">
       <mat-icon class="material-icons">add</mat-icon>
  </button> 
  
  <!-- <button mat-raised-button color="primary" (click)="removeAddress()">
      <mat-icon class="material-icons">remove</mat-icon>
 </button> <br> <br><br> <br> -->
 
  
                <!-- Final do Address -->
  <button button color="primary" mat-raised-button type="submit" (click)="changeMessageValue()">Submit</button> <br> <br>
  <br> <br> <br>

  <button mat-raised-button color="primary" (click)="showButton()">Show Contract Holder</button>
  <div *ngIf="!showList" class="mat-elevation-z8">

    <div>
      <ag-grid-angular
      style="width: 100%; height: 1000px;" 
      [pagination]="true"
      class="ag-theme-material" 
      [masterDetail]="true"
      [gridOptions]="gridOptions"
      
      ></ag-grid-angular>

    </div>
  </div>

</form>